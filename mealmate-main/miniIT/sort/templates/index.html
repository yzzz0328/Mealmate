{% extends 'base.html' %}
{% load static%}
{% load crispy_forms_tags %}
{% block database %}

<div style="display:block;">
    <div class ="p-4" style="border:solid ; border-width: 4px; border-radius: 25px; display:inline-block; width:95%; margin-left:2.5%;" >
        <form method="get">
            {{myFilter.form }}
            <!-- <div class="card-footer"> -->
                <a href="{% url 'display_sortfoods' %}" class="btn btn-secondary float-right ml-2" role="button" >
                    Clear
                </a>

                <button class="btn btn-primary mx-2 float-right ml-4 " type="submit">
                    Search
                </button>
                
                
            <!-- </div> -->
        </form>
    </div>
    <div class="mr-4 mt-2" style="display:inline-flex; float: right;margin-bottom: 0.5%">
        <a href="{% url 'database-home' %}" class="btn btn-dark btn-md" role="button" >Click here to edit the database</a>
    </div>
</div>

<br>
<p class="text-muted" style="padding-top:0.5%; margin-left: 1.5%; line-height:0%;">Click on the top row to sort by ascending or descending order</p>

<table class="table-sortable" style="width: 98%; margin:0 auto;margin-bottom:2%;">
    <thead style="background-color:#2a324b; color:#e1e5ee;">
        <tr style="height:35px;" >
            <th style="text-align: center; width:5%">Name</th>
            <th style="text-align: center; width: 5%">Mealtype</th>
            <th style="text-align: center; width: 5%">Calories</th>
            <th style="text-align: center; width: 5%">Carbs</th>
            <th style="text-align: center; width: 5%">Protein</th>
            <th style="text-align: center; width: 5%">Fat</th>
            <th style="text-align: center; width: 5%">Fibre</th>
        </tr>
    </thead>
    <tbody>

        {% for name in name %}

            <tr style="height:35px;" onmouseover="this.style.backgroundColor='#D0D4DC';" onmouseout="this.style.backgroundColor='#e1e5ee';">
                <td><a href="{% url 'browseinfo-detail' name.pk %}" class="text-dark">{{ name.name }}</a></td>
                <td style="text-align: center;">
                    <a href="{% url 'browseinfo-detail' name.pk %}" class="text-dark">
                        {% if name.mealtype %}
                            {{name.mealtype}}
                        {% else %}
                            Ingredient
                        {% endif %}
                    </a>    
                </td>
                <td style="text-align: center;"><a href="{% url 'browseinfo-detail' name.pk %}" class="text-dark">{{name.calories}}</a></td>
                <td style="text-align: center;"><a href="{% url 'browseinfo-detail' name.pk %}" class="text-dark">{{ name.carbs }}</a></td>
                <td style="text-align: center;"><a href="{% url 'browseinfo-detail' name.pk %}" class="text-dark">{{ name.protein }}</a></td>
                <td style="text-align: center;"><a href="{% url 'browseinfo-detail' name.pk %}" class="text-dark">{{ name.fat }}</a></td>
                <td style="text-align: center;"><a href="{% url 'browseinfo-detail' name.pk %}" class="text-dark">{{ name.fibre }}</a></td>
            </tr>

        {% endfor %}

    </tbody>
</table>

<script src="{% static 'js/tablesort.js'%}" type="text/javascript"></script>    

{% endblock %}
